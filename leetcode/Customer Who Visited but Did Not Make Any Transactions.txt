select customer_id, count(1) count_no_trans 
from visits v
where (select count(*)
        from transactions t
        where t.visit_id=v.visit_id)=0
group by customer_id